// Code generated by hertz generator.

package main

import (
	"github.com/cloudwego/hertz/pkg/app/server"
	"work4/biz/middleware"
	"work4/biz/router/websock"
	"work4/pkg/cfg"
)

func Init() {
	cfg.Init()
	middleware.Init()
}

func main() {

	Init()

	h := server.Default(server.WithHostPorts("0.0.0.0:10001"))
	ws := server.Default(server.WithHostPorts("0.0.0.0:10000"))

	ws.NoHijackConnPool = true

	register(h)

	websock.WebsocketRegister(ws)
	go ws.Spin()
	h.Spin()
}
